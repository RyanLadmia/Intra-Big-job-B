<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Symfony Profiler Toggle</title>
        <style>
            body {
                font-family: sans-serif;
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
            }
            .container {
                background-color: #f5f5f5;
                border-radius: 8px;
                padding: 20px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .form-group {
                margin-bottom: 15px;
            }
            label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
            }
            button {
                background-color: #4e73df;
                color: white;
                border: none;
                padding: 10px 15px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }
            button:hover {
                background-color: #2e59d9;
            }
            .status {
                margin-top: 20px;
                padding: 15px;
                border-radius: 4px;
            }
            .enabled {
                background-color: #e0f7fa;
                border-left: 4px solid #00acc1;
            }
            .disabled {
                background-color: #ffebee;
                border-left: 4px solid #e53935;
            }
            .switch {
                position: relative;
                display: inline-block;
                width: 60px;
                height: 34px;
            }
            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }
            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 34px;
            }
            .slider:before {
                position: absolute;
                content: "";
                height: 26px;
                width: 26px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
            }
            input:checked + .slider {
                background-color: #4e73df;
            }
            input:checked + .slider:before {
                transform: translateX(26px);
            }
            .flash-message {
                padding: 15px;
                margin-bottom: 20px;
                border-radius: 4px;
                animation: fadeOut 5s forwards;
                animation-delay: 3s;
            }
            .flash-success {
                background-color: #e8f5e9;
                border-left: 4px solid #4caf50;
                color: #2e7d32;
            }
            .flash-error {
                background-color: #ffebee;
                border-left: 4px solid #f44336;
                color: #c62828;
            }
            @keyframes fadeOut {
                from {opacity: 1;}
                to {opacity: 0; height: 0; padding: 0; margin: 0; overflow: hidden;}
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Symfony Profiler Toggle</h1>
            
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="flash-message flash-{{ label }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
            
            <div class="form-group">
                <label>Profiler Status</label>
                <div class="status {% if profiler_enabled %}enabled{% else %}disabled{% endif %}">
                    Profiler is currently <strong>{% if profiler_enabled %}ENABLED{% else %}DISABLED{% endif %}</strong>
                    {% if profiler_enabled %}
                        <br>Data collection: <strong>{% if profiler_only_exceptions %}Only on exceptions{% else %}On all requests{% endif %}</strong>
                    {% endif %}
                </div>
            </div>
            
            <form action="{{ path('app_dev_tools_toggle_profiler') }}" method="post">
                <div class="form-group">
                    <label for="enable">Enable Profiler</label>
                    <label class="switch">
                        <input type="checkbox" id="enable" name="enable" {% if profiler_enabled %}checked{% endif %}>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label for="only_exceptions">Collect Data Only On Exceptions</label>
                    <label class="switch">
                        <input type="checkbox" id="only_exceptions" name="only_exceptions" {% if profiler_only_exceptions %}checked{% endif %}>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <button type="submit">Update Profiler Settings</button>
            </form>
            
            <div class="info" style="margin-top: 30px;">
                <h3>Performance Note</h3>
                <p>The Symfony Profiler is a powerful development tool but can impact performance. For optimal performance in production or when not debugging, keep it disabled.</p>
            </div>
        </div>
    </body>
</html> 